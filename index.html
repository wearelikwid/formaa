<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>16 Week Workout Program</title>
    <style>
        /* Reset and Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-bg: #1a1a1a;
            --secondary-bg: #2a2a2a;
            --card-bg: #333333;
            --hover-bg: #444444;
            --active-bg: #4a4a4a;
            --primary-text: #ffffff;
            --secondary-text: #cccccc;
            --accent-color: #4a90e2;
            --success-color: #4caf50;
            --error-color: #f44336;
            --border-radius: 8px;
            --spacing: 20px;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: var(--primary-bg);
            color: var(--primary-text);
            line-height: 1.6;
            padding: var(--spacing);
        }

        /* Layout Styles */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 var(--spacing);
        }

        .weeks-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--spacing);
            padding: var(--spacing) 0;
        }

        /* Week Card Styles */
        .week-card {
            background-color: var(--secondary-bg);
            border-radius: var(--border-radius);
            padding: var(--spacing);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .week-title {
            font-size: 1.5rem;
            margin-bottom: var(--spacing);
            color: var(--accent-color);
            border-bottom: 2px solid var(--accent-color);
            padding-bottom: 10px;
        }

        /* Workout Type Styles */
        .workout-type {
            background-color: var(--card-bg);
            margin-bottom: 10px;
            border-radius: var(--border-radius);
            overflow: hidden;
        }

        .workout-header {
            padding: 15px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background-color 0.3s ease;
        }

        .workout-header:hover {
            background-color: var(--hover-bg);
        }

        .workout-header.active {
            background-color: var(--active-bg);
        }

        .workout-content {
            display: none;
            padding: 15px;
            background-color: var(--hover-bg);
        }

        .workout-content.show {
            display: block;
        }

        /* Exercise Item Styles */
        .exercise-item {
            background-color: var(--secondary-bg);
            margin-bottom: 10px;
            padding: 10px;
            border-radius: var(--border-radius);
        }

        .exercise-name {
            font-weight: bold;
            color: var(--accent-color);
        }

        .exercise-details {
            margin-top: 5px;
            color: var(--secondary-text);
        }

        /* Loading and Error States */
        .loading {
            text-align: center;
            padding: var(--spacing);
            color: var(--secondary-text);
        }

        .error {
            background-color: var(--error-color);
            color: var(--primary-text);
            padding: 15px;
            border-radius: var(--border-radius);
            margin-bottom: var(--spacing);
            text-align: center;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .weeks-container {
                grid-template-columns: 1fr;
            }

            .container {
                padding: 0 10px;
            }

            .week-card {
                margin-bottom: 15px;
            }
        }

        /* Animation */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .fade-in {
            animation: fadeIn 0.3s ease-in;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>16 Week Workout Program</h1>
        <div id="errorContainer"></div>
        <div id="loadingIndicator" class="loading">Loading workout program...</div>
        <div class="weeks-container" id="weeksContainer"></div>
    </div>
    <script>
        // Main data storage
        let workoutProgram = {};
        
        // Initialize the application
        document.addEventListener('DOMContentLoaded', initializeApp);

        async function initializeApp() {
            try {
                await loadAllWeeks();
                hideLoadingIndicator();
            } catch (error) {
                showError('Failed to initialize the workout program. Please try again.');
                console.error('Initialization error:', error);
            }
        }

        // Loading functions
        async function loadAllWeeks() {
            const weeks = 16;
            const loadingPromises = [];

            for (let week = 1; week <= weeks; week++) {
                loadingPromises.push(loadWeekData(week));
            }

            await Promise.all(loadingPromises);
            renderWorkoutProgram();
        }

        async function loadWeekData(weekNumber) {
            try {
                const response = await fetch(`week${weekNumber}.JSON`);
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                const weekData = await response.json();
                workoutProgram[`week${weekNumber}`] = weekData;
                return weekData;
            } catch (error) {
                console.error(`Error loading week ${weekNumber}:`, error);
                workoutProgram[`week${weekNumber}`] = null;
                showError(`Failed to load Week ${weekNumber}`);
            }
        }

        // Rendering functions
        function renderWorkoutProgram() {
            const container = document.getElementById('weeksContainer');
            container.innerHTML = ''; // Clear container

            for (let week = 1; week <= 16; week++) {
                const weekData = workoutProgram[`week${week}`];
                if (weekData) {
                    const weekCard = createWeekCard(week, weekData);
                    container.appendChild(weekCard);
                }
            }
        }

        function createWeekCard(weekNumber, weekData) {
            const weekCard = document.createElement('div');
            weekCard.className = 'week-card fade-in';
            weekCard.innerHTML = `
                <h2 class="week-title">Week ${weekNumber}</h2>
                ${createWorkoutTypes(weekData)}
            `;
            return weekCard;
        }

        function createWorkoutTypes(weekData) {
            const workoutTypes = ['Upper Body', 'Lower Body', 'Core', 'Full Body'];
            return workoutTypes.map(type => {
                const dataKey = type.toLowerCase().replace(' ', '_');
                const workoutData = weekData[dataKey];
                
                return `
                    <div class="workout-type">
                        <div class="workout-header" onclick="toggleWorkout(this)">
                            ${type}
                        </div>
                        <div class="workout-content">
                            ${formatWorkoutData(workoutData)}
                        </div>
                    </div>
                `;
            }).join('');
        }

        function formatWorkoutData(workoutData) {
            if (!workoutData) {
                return '<div class="exercise-item">No workout data available</div>';
            }

            if (Array.isArray(workoutData)) {
                return workoutData.map(exercise => {
                    if (typeof exercise === 'string') {
                        return `
                            <div class="exercise-item">
                                <div class="exercise-name">${exercise}</div>
                            </div>
                        `;
                    } else {
                        return `
                            <div class="exercise-item">
                                <div class="exercise-name">${exercise.name || 'Unnamed Exercise'}</div>
                                <div class="exercise-details">
                                    ${exercise.sets ? `Sets: ${exercise.sets}<br>` : ''}
                                    ${exercise.reps ? `Reps: ${exercise.reps}<br>` : ''}
                                    ${exercise.duration ? `Duration: ${exercise.duration}<br>` : ''}
                                    ${exercise.weight ? `Weight: ${exercise.weight}<br>` : ''}
                                    ${exercise.notes ? `Notes: ${exercise.notes}` : ''}
                                </div>
                            </div>
                        `;
                    }
                }).join('');
            }

            return `
                <div class="exercise-item">
                    <pre>${JSON.stringify(workoutData, null, 2)}</pre>
                </div>
            `;
        }

        // UI Interaction functions
        function toggleWorkout(element) {
            const content = element.nextElementSibling;
            const isExpanded = element.classList.contains('active');

            // Close all other workout contents
            const allHeaders = document.querySelectorAll('.workout-header');
            const allContents = document.querySelectorAll('.workout-content');
            
            allHeaders.forEach(header => header.classList.remove('active'));
            allContents.forEach(content => content.classList.remove('show'));

            // Toggle current workout
            if (!isExpanded) {
                element.classList.add('active');
                content.classList.add('show');
            }
        }

        // Utility functions
        function showError(message) {
            const errorContainer = document.getElementById('errorContainer');
            const errorElement = document.createElement('div');
            errorElement.className = 'error fade-in';
            errorElement.textContent = message;
            errorContainer.appendChild(errorElement);

            // Remove error after 5 seconds
            setTimeout(() => {
                errorElement.remove();
            }, 5000);
        }

        function hideLoadingIndicator() {
            const loadingIndicator = document.getElementById('loadingIndicator');
            loadingIndicator.style.display = 'none';
        }
    </script>
</body>
</html>
</body>
</html>
